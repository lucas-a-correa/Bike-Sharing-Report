install.packages("tidyverse")
library(tidyverse)
library(lubridate)
q()
first_vector <- c(1L, 2L, 3L, 4L, 5L)
second_vector <- c(TRUE, FALSE, FALSE, TRUE, TRUE)
typeof(first_vector)
length(second_vector)
names(first_vector) <- c("one", "two", "three", "four", "five")
first_vector
first_list <- list(first_vector,second_vector)
first_list
str(first_list)
today()
library(tidyverse)
library(lubridate)
today()
now()
dmy(07011998)
dmy_h(0701199809)
q()
library(tidyverse)
head(diamonds)
str(diamonds)
glimpse(diamonds)
colnames(diamonds)
rename(diamonds,carat_new = carat)
rename(diamonds,carat = carat_new)
summarize(diamonds)
summarize(diamonds, mean_carat = mean(carat))
ggplot(data = diamonds, aes(x = carat, y = price, color = cut)) + geom_point()
ggplot(data = diamonds, aes(x = carat, y = price, color = cut)) + geom_point() + facet_wrap(~cut())
ggplot(data = diamonds, aes(x = carat, y = price, color = cut)) + geom_point() + facet_wrap(~cut)
View(ToothGrowth)
install.packages('dplyr')
install.packages("dplyr")
filtered_tg <- filter(ToothGrowth, dose == 0.5)
View(filtered_tg)
arrange(filtered_tg, len)
filtered_toothgrowth <- ToothGrowth %>%
filter(dose == 0.5) %>%
arrange(len)
filtered_toothgrowth
filtered_toothgrowth <- ToothGrowth %>%
filter(dose == 0.5) %>%
group_by(supp) %>%
summarise(mean_len = mean(len,na.rm = T),.group = 'drop')
filtered_toothgrowth
q()
library(tidyverse)
data('diamonds')
View(diamonds)
head(diamonds)
names <- c('Mateus', 'Marcos', 'Lucas', 'João')
ordem <- c(1L, 2L, 3L, 4L)
apostles <- data.frame(names, ordem)
head(apostles)
str(apostles)
glimpse(apostles)
colnames(apostles)
as_tibble(diamonds)
bookings_df <- read.csv('CSV_Google.csv')
bookings_df <- read.csv('"C:\Users\lucas\Downloads\CSV_Google.csv"')
bookings_df <- read.csv("C:\Users\lucas\Downloads\CSV_Google.csv")
bookings_df <- read.csv(r"C:\Users\lucas\Downloads\CSV_Google.csv")
bookings_df <- read.csv("C:/Users/lucas/Downloads/CSV_Google.csv")
head(bookings_df)
str(bookings_df)
colnames(bookings_df)
new_df <- select(bookings_df,'adr', adults)
head(new_df)
mutate(new_df, total = 'adr'/adults)
head(new_df)
str(new_df)
install.packages('here')
install.packages('skimr')
install.packages('janitor')
library(here)
library('here')
library("skimr")
library('janitor')
install.packages('dplyr')
data(penguins)
install.packages("palmerpenguins")
library("palmerpenguins")
skim_without_charts(penguins)
bookings_df <- read.csv("C:\\Users\\lucas\\Downloads\\CSV_Google.csv")
skim_without_charts(bookings_df)
trimmed_df <- bookings_df %>% select('hotel', 'is_canceled', 'lead_time')
trimmed_df %>% rename(hotel_type = hotel)
skim_without_charts(bookings_df)
example_df <- bookings_df %>%
summarise(number_canceled = sum(is_canceled),
average_lead_time = mean(lead_time))
example_df
penguins %>%
arrange(bill_length_mm)
install.packages('Tmisc')
library(Tmisc)
data(quartet)
View(quartet)
quartet %>%
group_by(set) %>%
summarise(mean(x), sd(x),mean(y), sd(y), cor(x,y))
data('ToothGrowth')
head(ToothGrowth)
library('tidyverse')
bike_data_jan <- read.csv("202201-divvy-tripdata.csv")
bike_data_jan <- read.csv("G:\\Meu Drive\\Analytics\\Case Studies\\Bike_riding\\202201-divvy-tripdata.csv")
head(bike_data_jan)
View(bike_data_jan)
glimpse(bike_data_jan)
library(lubridate)
bike_data_jan %>%
mutate(started_dt = map(started_at, ymd_hms)
View(bike_data_jan)
bike_data_jan %>%
mutate(started_dt = map(started_at, ymd_hms))
View(bike_data_jan)
map(bike_data_jan.started_dt,.f=ymd_hms())
bike_data_jan %>%
map(started_at, .f=ymd_hms()))
bike_data_jan %>%
map(started_at, .f=ymd_hms())
bike_data_jan %>%
map(started_at, .f=ymd_hms)
bike_data_jan %>%
map('started_at', .f=ymd_hms)
View(bike_data_jan)
bike_data_jan %>%
mutate(started_dt = map('started_at', .f=ymd_hms))
bike_data_jan %>%
mutate('started_dt' = map('started_at', .f=ymd_hms))
View(bike_data_jan)
bike_data_jan %>%
started_dt <- map('started_at', .f=ymd_hms))
bike_data_jan %>%
started_dt <- map('started_at', .f=ymd_hms)
bike_data_jan %>%
started_dt = map('started_at', .f=ymd_hms)
started_dt <- map('started_at', .f=ymd_hms)
started_dt <- map(started_at, .f=ymd_hms)
bike_data_jan %>%
select(started_at) %>%
mutate(started_clean = ymd_hms(started_at))
View(bike_data_jan)
bike_data_jan %>%
mutate(started_clean = ymd_hms(started_at))
head(bike_data_jan)
bike_data_jan <- bike_data_jan %>%
mutate(started_clean = ymd_hms(started_at))
bike_data_jan <- bike_data_jan %>%
mutate(endeded_clean = ymd_hms(ended_at))
bike_data_jan <- bike_data_jan %>%
mutate(runtime = endeded_clean-started_clean)
library(tidyverse)
library(lubridate)
bike_data_jan <- read.csv(
"G:\\Meu Drive\\Analytics\\Case Studies\\Bike_riding\\202201-divvy-tripdata.csv"
)
glimpse(bike_data_jan)
library(skimr)
skim_without_charts(bike_data_jan)
View(bike_data_jan)
bike_data_jan <- bike_data_jan %>%
mutate(started_clean = ymd_hms(started_at)) %>%
mutate(ended_clean = ymd_hms(ended_at)) %>%
mutate(runtime = ended_clean-started_clean)
glimpse(bike_data_jan)
ggplot(data=bike_data_jan) + geom_bar(mapping=aes(x=member_casual))
bike_data_jan %>%
count(member_casual,member_casual=='member')
ggplot(data=bike_data_jan) + geom_boxplot(mapping = aes(y=runtime))
ggplot(data=bike_data_jan) + geom_boxplot(mapping = aes(y=as.integer(runtime)))
skim_without_charts(bike_data_jan)
summarise(bike_data_jan, runtime)
summarise(bike_data_jan, mean(runtime))
summarise(bike_data_jan, mean(runtime),sd(runtime))
summarise(bike_data_jan, mean(runtime),sd(runtime), median(runtime))
bike_data_jan %>%
quantile(runtime)
bike_data_jan %>%
quantile(runtime, na.rm = TRUE)
bike_data_jan %>%
quantile('runtime', na.rm = TRUE)
skim_without_charts(bike_data_jan)
bike_data_jan %>%
quantile(as_int(runtime), na.rm = TRUE)
bike_data_jan %>%
quantile(as.integer(runtime), na.rm = TRUE)
bike_data_jan %>%
quantile(as.integer('runtime'), na.rm = TRUE)
bike_data_jan <- bike_data_jan %>%
mutate(runtime = as.integer(runtime))
skim_without_charts(bike_data_jan)
bike_data_jan %>%
count(runtime,runtime > 1595)
bike_data_jan %>%
sum(count(runtime,runtime > 1595))
bike_data_jan %>%
sum(count(runtime,runtime > 1595))
bike_data_jan %>%
sum(count('runtime','runtime' > 1595))
bike_data_jan %>%
nrow(runtime > 1595)
nrow(bike_data_jan[bike_data_jan$runtime > 1595])
nrow(bike_data_jan[bike_data_jan$runtime > 1595,])
nrow(bike_data_jan[bike_data_jan$runtime > 10800,])
bike_data_clean_time <- bike_data_jan[!(bike_data_jan$runtime > 10800),]
ggplot(data=bike_data_clean_time) + geom_histogram(mapping = aes(x=runtime))
ggplot(data=bike_data_clean_time) + geom_histogram(mapping = aes(x=runtime)) +
FacetWrap(~member_casual)
ggplot(data=bike_data_clean_time) + geom_histogram(mapping = aes(x=runtime)) +
facet_wrap(~member_casual)
load("~/GitHub/Bike-Sharing-Report/.RData")
summarise(bike_2022_df, n(member_casual))
library(tidyverse)
library(lubridate)
library(skimr)
library(pracma)
summarise(bike_2022_df, n(member_casual))
summarise(bike_2022_df, count = n(member_casual))
count(bike_2022_df, member_casual)
df <- count(bike_2022_df, member_casual)
ggplot(df)+
geom_col(mapping = aes(x=member_casual,y=n,fill=member_casual))+
scale_fill_brewer(palette = 'Accent')+
labs(x='',y='Viagens',title = "Total de Viagens por Tipo de Usuário")
ggplot(df)+
geom_col(mapping = aes(x=member_casual,y=n,fill=member_casual))+
scale_fill_brewer(palette = 'Accent')+
labs(x='',y='Viagens',title = "Total de Viagens por Tipo de Usuário")+
annotate("text", x=2, y=3000000, label="59,39%")
ggplot(df)+
geom_col(mapping = aes(x=member_casual,y=n,fill=member_casual))+
scale_fill_brewer(palette = 'Accent')+
labs(x='',y='Viagens',title = "Total de Viagens por Tipo de Usuário",
fill="Tipo de Usuário")+
annotate("text", x=2, y=3000000, label="59,39%",size=5)+
annotate("text", x=1, y=2000000, label="40,61%",size=4)
ggplot(df)+
geom_col(mapping = aes(x=member_casual,y=n,fill=member_casual))+
scale_fill_brewer(palette = 'Accent')+
labs(x='',y='Viagens',title = "Total de Viagens por Tipo de Usuário",
fill="Tipo de Usuário")+
annotate("text", x=2, y=3000000,
label="3,3mi\n (59,39%)",size=5)+
annotate("text", x=1, y=2000000, label="40,61%",size=4)
ggplot(df)+
geom_col(mapping = aes(x=member_casual,y=n,fill=member_casual))+
scale_fill_brewer(palette = 'Accent')+
labs(x='',y='Viagens',title = "Total de Viagens por Tipo de Usuário",
fill="Tipo de Usuário")+
annotate("text", x=2, y=3000000,
label="3,3 mi\n (59,39%)",size=5)+
annotate("text", x=1, y=2000000, label="2,2 mi\n (40,61%)",size=5)
setwd("C:/Users/lucas/OneDrive/Documentos/GitHub/Bike-Sharing-Report")
ggsave("Members.png")
bike_2022_df %>%
group_by(member_casual) %>%
summarise(Mean_Time = mean(trip_duration,
Mean_Distance = mean(trip_duration)))
bike_2022_df %>%
group_by(member_casual) %>%
summarise(Mean_Time = mean(trip_duration),
Mean_Distance = mean(trip_duration)))
bike_2022_df %>%
group_by(member_casual) %>%
summarise(Mean_Time = mean(trip_duration),
Mean_Distance = mean(trip_duration))
summarise(Mean_Time = mean(trip_duration),
Mean_Distance = mean(trip_duration))
summarise(bike_2022_df,Mean_Time = mean(trip_duration),
Mean_Distance = mean(trip_duration))
summarise(bike_2022_df,Mean_Time = mean(trip_duration),
Mean_Distance = mean(trip_distance))
mean(bike_2022_df$trip_distance)
v1 <- c(
"total", mean(bike_2022_df$trip_duration) ,mean(bike_2022_df$trip_distance)
)
df <- bike_2022_df %>%
group_by(member_casual) %>%
summarise(Mean_Time = mean(trip_duration),
Mean_Distance = mean(trip_duration))
df<- bind_rows(df, v1)
v1 <- c(
'member_casual':"total",'Mean_Time': mean(bike_2022_df$trip_duration),
'Mean_Distance':mean(bike_2022_df$trip_distance)
)
df
names(v1) <- c('member_casual','Mean_Time','Mean_Distance')
df<- bind_rows(df, v1)
v1 <- c(
"total", as.double(mean(bike_2022_df$trip_duration)),
as.double(mean(bike_2022_df$trip_distance))
)
names(v1) <- c('member_casual','Mean_Time','Mean_Distance')
df<- bind_rows(df, v1)
df2 <- data.frame(member_casual = c('total'),
Mean_Time = c(as.double(mean(bike_2022_df$trip_duration))),
Mean_Distance = c(as.double(mean(bike_2022_df$trip_distance)))
)
df<- bind_rows(df, df2)
df
ggplot(bike_2022_df)+
geom_histogram(mapping = aes(x=trip_distance, fill=member_casual))
ggplot(bike_2022_df)+
geom_histogram(mapping = aes(x=trip_distance, fill=member_casual))+
scale_fill_brewer(palette = 'Accent')+
labs(x='Distância (km)',y='Viagens',title = "Distância por Tipo de Usuário",
fill="Tipo de Usuário")+
annotate("text", x=4, y=1500000,
label="Média Membros: 2,09km",size=5)+
annotate("text", x=7, y=600000, label="Média Casuais: 2,17km",size=5)
ggplot(bike_2022_df)+
geom_histogram(mapping = aes(x=trip_distance, fill=member_casual))+
scale_fill_brewer(palette = 'Accent')+
labs(x='Distância (km)',y='Viagens',title = "Distância por Tipo de Usuário",
fill="Tipo de Usuário")+
annotate("text", x=5, y=1250000,
label="Média Membros: 2,09km",size=5)+
annotate("text", x=7, y=600000, label="Média Casuais: 2,17km",size=5)
count(bike_2022_df, member_casual)
ggplot(bike_2022_df)+
geom_histogram(mapping = aes(x=trip_duration, fill=member_casual))
View(bike_2022_df)
ggplot(bike_2022_df)+
geom_histogram(mapping = aes(x=trip_duration))
ggplot(bike_2022_df)+
geom_bar(mapping = aes(x=trip_duration))
min(bike_2022_df$trip_duration)
filter(bike_2022_df,trip_duration == -621201)
bike_2022_df <- bike_2022_df[!(trip_duration < 0),]
bike_2022_df <- bike_2022_df[!(bike_2022_df$trip_duration < 0),]
min(bike_2022_df$trip_duration)
bike_2022_df <- bike_2022_df[!(bike_2022_df$trip_duration <= 0),]
min(bike_2022_df$trip_duration)
ggplot(bike_2022_df)+
geom_bar(mapping = aes(x=trip_duration)
ggplot(bike_2022_df)+
ggplot(bike_2022_df)+
geom_histogram(mapping = aes(x=trip_duration))
ggplot(bike_2022_df)+
geom_histogram(mapping = aes(x=trip_duration, fill=member_casual))+
scale_fill_brewer(palette = 'Accent')
mean(bike_2022_df$trip_duration)
df <- bike_2022_df %>%
group_by(member_casual) %>%
summarise(Mean_Time = mean(trip_duration),
Mean_Distance = mean(trip_duration))
df2 <- data.frame(member_casual = c('total'),
Mean_Time = c(as.double(mean(bike_2022_df$trip_duration))),
Mean_Distance = c(as.double(mean(bike_2022_df$trip_distance)))
)
df<- bind_rows(df, df2)
df
df <- bike_2022_df %>%
group_by(member_casual) %>%
summarise(Mean_Time = mean(trip_duration),
Mean_Distance = mean(trip_distance))
df<- bind_rows(df, df2)
df
ggplot(bike_2022_df)+
geom_histogram(mapping = aes(x=trip_duration, fill=member_casual))+
scale_fill_brewer(palette = 'Accent')+
labs(x='Tempo (s)',y='Viagens',title = "Tempo de Viagem por Tipo de Usuário",
fill="Tipo de Usuário")+
annotate("text", x=3000, y=1000000,
label="Média Membros: 11m53s",size=5)+
annotate("text", x=3000, y=600000, label="Média Casuais: 18m51s",size=5)
ggplot(bike_2022_df)+
geom_histogram(mapping = aes(x=trip_duration, fill=member_casual))+
scale_fill_brewer(palette = 'Accent')+
labs(x='Tempo (s)',y='Viagens',title = "Tempo de Viagem por Tipo de Usuário",
fill="Tipo de Usuário")+
annotate("text", x=3000, y=1000000,
label="Média Casuais: 18m51s",size=5)+
annotate("text", x=3000, y=600000, label="Média Membros: 11m53s",size=5)
ggsave("Time_Dist.png")
ggplot(bike_2022_df)+
geom_histogram(mapping = aes(x=trip_distance, fill=member_casual))+
scale_fill_brewer(palette = 'Accent')+
labs(x='Distância (km)',y='Viagens',title = "Distância por Tipo de Usuário",
fill="Tipo de Usuário")+
annotate("text", x=5, y=1250000,
label="Média Membros: 2,09km",size=5)+
annotate("text", x=7, y=600000, label="Média Casuais: 2,17km",size=5)
ggplot(bike_2022_df)+
geom_histogram(mapping = aes(x=trip_distance, fill=member_casual))+
scale_fill_brewer(palette = 'Accent')+
labs(x='Distância (km)',y='Viagens',title = "Distância por Tipo de Usuário",
fill="Tipo de Usuário")+
annotate("text", x=7, y=1250000,
label="Média Casuais: 2,17km",size=5)+
annotate("text", x=7, y=600000, label="Média Membros: 2,09km",size=5)
ggsave("Km_Dist.png")
View(bike_totaltrips_userperiod)
ggplot(bike_totaltrips_userperiod)+
geom_col(mapping = aes(
x=member_casual, y=total_trips, fill=member_casual
))+
facet_wrap(~period)+
scale_fill_brewer(palette = 'Accent')
ggplot(bike_totaltrips_userperiod, aes(x=member_casual, y=total_trips,
group=period)+
geom_col(aes(fill=period))
ggplot(bike_totaltrips_userperiod, aes(x=member_casual, y=total_trips,
ggplot(bike_totaltrips_userperiod, aes(x=member_casual, y=total_trips,
group=period))+
geom_col(aes(fill=period))
ggplot(bike_totaltrips_userperiod, aes(x=member_casual, y=total_trips,
group=period))+
geom_col(aes(fill=period))+
geom_text(aes(label=y), position=position_stack(vjust = 0.5))
ggplot(bike_totaltrips_userperiod, aes(x=member_casual, y=total_trips,
group=period))+
geom_col(aes(fill=period))+
geom_text(aes(label=total_trips), position=position_stack(vjust = 0.5))
df <- data.frame(Percentage = c('42,1%', '57,9%','50,9%','49,1%',
'32,1%','67,9%','44%','56%'))
bike_totaltrips_userperiod <- bind_cols(bike_totaltrips_userperiod,df)
ggplot(bike_totaltrips_userperiod, aes(x=member_casual, y=total_trips,
group=period))+
geom_col(aes(fill=period))+
geom_text(aes(label=Percentage), position=position_stack(vjust = 0.5))
ggplot(bike_totaltrips_userperiod, aes(x=member_casual, y=total_trips,
group=period))+
geom_col(aes(fill=period))+
geom_text(aes(label=Percentage), position=position_stack(vjust = 0.5))+
scale_fill_brewer(palette = 'Accent')+
labs(x='',y='Viagens',title = "Usuários por Período do dia",
fill="Períodos")
df <- data.frame(Percentage = c('45,1%', '42,5%','5,4%','3,6%',
'18,8%','27,2%','30,6%','26,7%'))
bike_totaltrips_userperiod <- bind_cols(bike_totaltrips_userperiod,df)
ggplot(bike_totaltrips_userperiod, aes(x=member_casual, y=total_trips,
group=period))+
geom_col(aes(fill=period))+
geom_text(aes(label=Percentage), position=position_stack(vjust = 0.5))+
scale_fill_brewer(palette = 'Accent')+
labs(x='',y='Viagens',title = "Usuários por Período do dia",
fill="Períodos")
ggplot(bike_totaltrips_userperiod, aes(x=member_casual, y=total_trips,
group=period))+
geom_col(aes(fill=period))+
geom_text(aes(label=Percentage...5), position=position_stack(vjust = 0.5))+
scale_fill_brewer(palette = 'Accent')+
labs(x='',y='Viagens',title = "Usuários por Período do dia",
fill="Períodos")
ggsave("Period_Dist.png"
ggsave("Period_Dist.png")
ggsave("Period_Dist.png")
ggplot(bike_2022_df)+
geom_histogram(mapping = aes(x=started_at_clean))
ggplot(bike_2022_df)+
geom_freqpoly(mapping = aes(x=started_at_clean))
ggplot(bike_2022_df)+
geom_freqpoly(mapping = aes(x=started_at_clean, color=member_casual))
ggplot(bike_2022_df)+
geom_freqpoly(mapping = aes(x=started_at_clean, color=member_casual))+
scale_fill_brewer(palette = 'Accent')+
labs(x='',y='Viagens',title = "Viagens por Dia",
fill="Tipos de Usuários")
ggsave("Anual_Dist.png")
save.image("C:/Users/lucas/OneDrive/Documentos/GitHub/Bike-Sharing-Report/.RData")
